import{d as h,h as x,c as m,w as r,a as o,f as u,u as n,b as d,e as g,F as v,o as e,T as I,n as S,q as y,g as b}from"./index-CNOZc-S8.js";import{b as $,c as k,M as C}from"./MainLayout.vue_vue_type_script_setup_true_lang-SxHo39Ir.js";import{b as f,_ as T}from"./SlideChanger.vue_vue_type_script_setup_true_lang-oUILMDpB.js";import{S as j,a as z}from"./swiper-BWD38d_a.js";import{u as B}from"./useSlider-Cb3mV56C.js";const D={class:"bg-zinc-800 h-full"},E={class:"h-[100vh] flex justify-center"},M=["srcset","alt"],q=h({__name:"PhotoModal",props:{startPhotoId:{}},setup(_){const s=_,l=x(()=>f.findIndex(t=>t.id===s.startPhotoId));return(t,a)=>(e(),m($,null,{default:r(()=>[o("div",D,[o("button",{onClick:a[0]||(a[0]=i=>t.$emit("close")),class:"text-xl text-white font-thin p-1 lg:p-4 self-start absolute z-10 top-1 left-1 lg:top-4 lg:left-4"},a[1]||(a[1]=[o("i",{class:"fa-solid fa-arrow-left"},null,-1),o("span",{class:"ml-2"},"В галерею",-1)])),u(n(j),{"slides-per-view":1,initialSlide:l.value,loop:!0},{default:r(()=>[(e(!0),d(v,null,g(n(f),i=>(e(),m(n(z),{key:i.id},{default:r(()=>[o("div",E,[o("img",{srcset:i.full,alt:i.altText,sizes:`(width <= 600px) 400px,
          (width <= 1200px) 800px, 1200px`,class:"h-[100%] object-contain"},null,8,M)])]),_:2},1024))),128))]),_:1},8,["initialSlide"])])]),_:1}))}}),N=["src","alt","onClick"],p=8,O=1,R=h({__name:"PhotoPreviews",emits:["changeStartPhotoId"],setup(_){const s=Math.ceil(f.length/p),{currentIndex:l,decreaseIndex:t,increaseIndex:a}=B(s,O),i=x(()=>[...f.slice(p*(l.value-1),p*l.value)]);return(P,V)=>(e(),d("div",null,[u(I,{mode:"out-in",name:"slide-gallery"},{default:r(()=>[(e(),d("ul",{key:n(l),class:"grid grid-cols-2 gap-2 lg:grid-cols-4 lg:gap-8 justify-center lg:justify-start"},[(e(!0),d(v,null,g(i.value,(c,w)=>(e(),d("li",{key:c.id,class:"overflow-hidden animate-fade-slide opacity-0",style:S({animationDelay:`${w*100}ms`})},[c.thumb?(e(),d("img",{key:0,src:c.thumb,alt:c.altText,class:"hover:scale-110 transition-all h-[260px] w-full object-cover",onClick:A=>P.$emit("changeStartPhotoId",c.id)},null,8,N)):y("",!0)],4))),128))]))]),_:1}),u(T,{onDecreaseIndex:n(t),onIncreaseIndex:n(a),index:n(l),quantity:n(s),class:"mt-16 justify-start"},null,8,["onDecreaseIndex","onIncreaseIndex","index","quantity"])]))}}),Q=h({__name:"index",setup(_){const s=b(-1);return(l,t)=>(e(),m(k,null,{default:r(()=>[u(C,null,{default:r(()=>[t[2]||(t[2]=o("h2",{class:"text-5xl text-zinc-400 font-thin mb-4 lg:mb-16"},"Галерея",-1)),u(R,{onChangeStartPhotoId:t[0]||(t[0]=a=>s.value=a)})]),_:1,__:[2]}),u(I,{name:"slide-down"},{default:r(()=>[s.value>=0?(e(),m(q,{key:0,onClose:t[1]||(t[1]=a=>s.value=-1),startPhotoId:s.value},null,8,["startPhotoId"])):y("",!0)]),_:1})]),_:1}))}});export{Q as default};
